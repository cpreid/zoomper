!function(t){var A=function(t,A){return"dataset"in t?t.dataset[A]:t.getAttribute(["data",A].join("-"))},e=function(t,A,e){this.elt=t,this.smallImg=A,this.largeImg=e,this.frameSize={width:parseInt(t.style.width),height:parseInt(t.style.height)},this.mode="out",this.cursorStates={"in":"zoom-out",out:"zoom-in"},this.largeLoaded=!1};e.prototype={positionZoom:function(t){var A={x:t.offsetX/this.frameSize.width,y:t.offsetY/this.frameSize.height};this.elt.style.backgroundPosition=[100*A.x,"%"," ",100*A.y,"%"].join("")},listenHover:function(){var t=this;this.elt.addEventListener("mousemove",function(A){"out"!==t.mode&&t.positionZoom(A)})},unlistenHover:function(){this.elt.style.backgroundPosition="center center"},zoomState:function(t){"in"===t?(this.elt.style.backgroundImage="url("+this.largeImg+")",this.listenHover(),this.elt.style.cursor=this.cursorStates["in"]):(this.elt.style.backgroundImage="url("+this.smallImg+")",this.unlistenHover(),this.elt.style.cursor=this.cursorStates.out)},zoomStateToggle:function(){this.mode="in"===this.mode?"out":"in",this.zoomState(this.mode)},loadImagesCB:function(t,A){for(var e=0,o=function(){e++,t.length===e&&A()},i=0;i<t.length;i++){var n=new Image;n.onload=o,n.src=t[i]}},loadState:function(t){t?this.loadElt.style.display="block":this.loadElt.style.display="none"},clickHandler:function(t){var A=this;A.largeLoaded?(A.zoomStateToggle(),A.positionZoom(t)):(A.loadState(!0),A.loadImagesCB([A.largeImg],function(){A.largeLoaded=!0,A.clickHandler(t),A.loadState(!1)}))},init:function(){var t=this;return t.elt.style.backgroundRepeat="no-repeat",t.elt.style.position="relative",t.zoomState("out"),t.elt.addEventListener("click",function(A){t.clickHandler(A)}),t.loadElt=document.createElement("div"),t.loadElt.style.cssText="display:none;height:100%;width:100%;top:0;left:0;position:absolute;background:rgba(255,255,255,.6);",t.loadElt.innerHTML="<div style=\"height:100%;width:100%;top:0;left:0;position:absolute;background: url('data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==') center center no-repeat;\"></div>",t.elt.appendChild(t.loadElt),t}};var o=function(t){return new e(t,A(t,"small"),A(t,"large")).init()};t.fn.zoomper=function(){return this.each(function(){o(this)})}}(jQuery);