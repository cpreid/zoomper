!function(t){var e=function(t,e){return"dataset"in t?t.dataset[e]:t.getAttribute(["data",e].join("-"))},o=function(t,e,o){this.elt=t,this.smallImg=e,this.largeImg=o,this.frameSize={width:parseInt(t.style.width),height:parseInt(t.style.height)},this.mode="out",this.cursorStates={"in":"zoom-out",out:"zoom-in"},this.initComplete=!1};o.prototype={positionZoom:function(t){var e={x:t.offsetX/this.frameSize.width,y:t.offsetY/this.frameSize.height};this.elt.style.backgroundPosition=[100*e.x,"%"," ",100*e.y,"%"].join("")},listenHover:function(){var t=this;this.elt.addEventListener("mousemove",function(e){"out"!==t.mode&&t.positionZoom(e)})},unlistenHover:function(){this.elt.style.backgroundPosition="center center",this.elt.removeEventListener("mousemove")},zoomState:function(t){"in"===t?(this.elt.style.backgroundImage="url("+this.largeImg+")",this.listenHover(),this.elt.style.backgroundPosition="200px 20px",this.elt.style.cursor=this.cursorStates["in"]):(this.elt.style.backgroundImage="url("+this.smallImg+")",this.unlistenHover(),this.elt.style.cursor=this.cursorStates.out)},zoomStateToggle:function(){this.mode="in"===this.mode?"out":"in",this.zoomState(this.mode)},loadImagesCB:function(t){for(var e=[this.smallImg,this.largeImg],o=0,i=function(){o++,e.length===o&&t()},n=0;n<e.length;n++){var s=new Image;s.onload=i,s.src=e[n]}},init:function(){var t=this;return t.elt.style.backgroundRepeat="no-repeat",t.zoomState("out"),t.elt.addEventListener("click",function(e){t.zoomStateToggle(),t.positionZoom(e)}),t}};var i=function(t){return new o(t,e(t,"small"),e(t,"large")).init()};t.fn.zoomper=function(){return this.each(function(){i(this)})}}(jQuery);