!function(t){var e=function(t,e){return"dataset"in t?t.dataset[e]:t.getAttribute(["data",e].join("-"))},i=function(t,e,i){this.elt=t,this.smallImg=e,this.largeImg=i,this.frameSize={width:parseInt(t.style.width),height:parseInt(t.style.height)},this.mode="out",this.cursorStates={"in":"zoom-out",out:"zoom-in"}};i.prototype={positionZoom:function(t){var e={x:t.offsetX/this.frameSize.width,y:t.offsetY/this.frameSize.height};this.elt.style.backgroundPosition=[100*e.x,"%"," ",100*e.y,"%"].join("")},listenHover:function(){var t=this;this.elt.addEventListener("mousemove",function(e){"out"!==t.mode&&t.positionZoom(e)})},unlistenHover:function(){this.elt.style.backgroundPosition="center center",this.elt.removeEventListener("mousemove")},zoomState:function(t){"in"===t?(this.elt.style.backgroundImage="url("+this.largeImg+")",this.listenHover(),this.elt.style.backgroundPosition="200px 20px",this.elt.style.cursor=this.cursorStates["in"]):(this.elt.style.backgroundImage="url("+this.smallImg+")",this.unlistenHover(),this.elt.style.cursor=this.cursorStates.out)},zoomStateToggle:function(){this.mode="in"===this.mode?"out":"in",this.zoomState(this.mode)},init:function(){var t=this;return this.elt.style.backgroundRepeat="no-repeat",this.zoomState("out"),this.elt.addEventListener("click",function(e){t.zoomStateToggle(),t.positionZoom(e)}),this}};var o=function(t){return new i(t,e(t,"small"),e(t,"large")).init()};t.fn.zoomper=function(){return this.each(function(){o(this)})}}(jQuery);